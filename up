#!/bin/bash

function display {
	echo -e "\n$1\n"
}

function createDirectories {
	display 'ðŸ“‚  Creating directories'
	.scripts/dir.sh
}

function installApplications {
	display 'ðŸŽ±  Installing applications'
	.scripts/install.sh
}

function installNPM {
	display 'ðŸ“¦  Installing npm packages globally'
	.scripts/install-npm.sh
}

function installCustom {
	display 'ðŸ¤”  Installing custom applications'
	.scripts/install-apps.sh
}

function macOSPreferences {
	display 'ðŸ”§  Tweaking macOS preferences'
	.scripts/macos.sh
}

function loginItems {
	display 'âœ¨  Configure login items'
	.scripts/login-items.sh
}

function stowFiles {
	display 'ðŸ—„  Stowing your .files to $HOME'
	ls -d */ | xargs stow -vv
}

function applyGitIgnore {
	display 'ðŸ™…  Applying ~/.gitignore globally'
	git config core.excludesfile ~/.gitignore
}

function mackupRestore {
	display 'ðŸŽ¨  Restoring from Mackup\n'
	mackup restore
}

function generateSSHKey {
	display 'ðŸ”‘  Generating ssh key'
	.scripts/ssh.sh
}

function scheduleCron {
	display 'ðŸ“…  Scheduling crontab tasks'
	crontab .scripts/cron.txt
}

function restartComputer {
	display 'ðŸ–¥  All done! You may need to restart your computer'
	.scripts/restart.sh
}

function runAll {
	createDirectories
	installApplications
	installNPM
	installCustom
	macOSPreferences
	loginItems
	stowFiles
	applyGitIgnore
	mackupRestore
	generateSSHKey
	scheduleCron
	restartComputer
}

cat banner

case $1 in
	stow )
		stowFiles
		;;
	all )
		runAll
		;;
	* )
		echo -e "usage: up all	- run all commands"
		echo -e "usage: up stow	- just run the stow command"
		;;
esac
